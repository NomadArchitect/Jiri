{
  "comments": [
    {
      "key": {
        "uuid": "60df80b1_7e8d1392",
        "filename": "cmd/jiri/override.go",
        "patchSetId": 5
      },
      "lineNbr": 32,
      "author": {
        "id": 18706
      },
      "writtenOn": "2018-10-22T20:42:23Z",
      "side": 1,
      "message": "Since this is intended to override manifest \u003cproject\u003es, should these subcommand helptexts use the word \"project\" instead of \"import?\"",
      "range": {
        "startLine": 32,
        "startChar": 82,
        "endLine": 32,
        "endChar": 88
      },
      "revId": "54c993db561b702339828a45e82836970cfe39f2",
      "serverId": "ccdefb6c-23ea-33ff-848c-339fc6ca2269",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a1d411fa_2cdd6bf1",
        "filename": "cmd/jiri/override.go",
        "patchSetId": 5
      },
      "lineNbr": 32,
      "author": {
        "id": 5050
      },
      "writtenOn": "2018-10-24T03:40:26Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "60df80b1_7e8d1392",
      "range": {
        "startLine": 32,
        "startChar": 82,
        "endLine": 32,
        "endChar": 88
      },
      "revId": "54c993db561b702339828a45e82836970cfe39f2",
      "serverId": "ccdefb6c-23ea-33ff-848c-339fc6ca2269",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ce977547_08f5ef20",
        "filename": "cmd/jiri/override.go",
        "patchSetId": 5
      },
      "lineNbr": 45,
      "author": {
        "id": 23653
      },
      "writtenOn": "2018-10-22T00:54:36Z",
      "side": 1,
      "message": "manifest",
      "range": {
        "startLine": 45,
        "startChar": 34,
        "endLine": 45,
        "endChar": 41
      },
      "revId": "54c993db561b702339828a45e82836970cfe39f2",
      "serverId": "ccdefb6c-23ea-33ff-848c-339fc6ca2269",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "680f18aa_f064d796",
        "filename": "cmd/jiri/override.go",
        "patchSetId": 5
      },
      "lineNbr": 45,
      "author": {
        "id": 23653
      },
      "writtenOn": "2018-10-22T00:54:36Z",
      "side": 1,
      "message": "Nit: does the above example actually override anything? May it include a -revision flag?",
      "revId": "54c993db561b702339828a45e82836970cfe39f2",
      "serverId": "ccdefb6c-23ea-33ff-848c-339fc6ca2269",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "73f2464d_2a0f7343",
        "filename": "cmd/jiri/override.go",
        "patchSetId": 5
      },
      "lineNbr": 45,
      "author": {
        "id": 5050
      },
      "writtenOn": "2018-10-22T01:13:11Z",
      "side": 1,
      "message": "If you don\u0027t specify revision, Jiri defaults to HEAD which presumably is what many people will use this functionality for (i.e. instead of using pinned revision, override the project to use HEAD)?",
      "parentUuid": "680f18aa_f064d796",
      "revId": "54c993db561b702339828a45e82836970cfe39f2",
      "serverId": "ccdefb6c-23ea-33ff-848c-339fc6ca2269",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e1455de0_9fcf876a",
        "filename": "cmd/jiri/override.go",
        "patchSetId": 5
      },
      "lineNbr": 45,
      "author": {
        "id": 5050
      },
      "writtenOn": "2018-10-22T01:13:11Z",
      "side": 1,
      "message": "This is correct, these three arguments are equivalent to \"name\", \"path\" and \"remote\" attributes from manifests, so the second argument is indeed a path to the project in your Jiri checkout.",
      "parentUuid": "ce977547_08f5ef20",
      "range": {
        "startLine": 45,
        "startChar": 34,
        "endLine": 45,
        "endChar": 41
      },
      "revId": "54c993db561b702339828a45e82836970cfe39f2",
      "serverId": "ccdefb6c-23ea-33ff-848c-339fc6ca2269",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "051e6507_2415852d",
        "filename": "cmd/jiri/override.go",
        "patchSetId": 5
      },
      "lineNbr": 45,
      "author": {
        "id": 23653
      },
      "writtenOn": "2018-10-22T02:03:42Z",
      "side": 1,
      "message": "Please add to the flag documentation that HEAD is a -revision default, in that case.\n\nAlthough it seems strangely ambiguous to me for -revision to have a default: If I \"override\" something, I need to specify what was overrode and what that new value is.",
      "parentUuid": "73f2464d_2a0f7343",
      "revId": "54c993db561b702339828a45e82836970cfe39f2",
      "serverId": "ccdefb6c-23ea-33ff-848c-339fc6ca2269",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ebc3361b_8cf03dbe",
        "filename": "cmd/jiri/override.go",
        "patchSetId": 5
      },
      "lineNbr": 45,
      "author": {
        "id": 23653
      },
      "writtenOn": "2018-10-22T02:03:42Z",
      "side": 1,
      "message": "In the recipes, the \u0027path\u0027 of the checked out project is opaque. I only know\n(1) name of the project to checkout\n(2) remote manifest repo\n(3) manifest filepath in that repo\n\nIt would be very nice to be able to override during api.jiri.checkout().\n\nSuppose buildbucket passes in gitiles commit of revision R:\n-if the manifest is local to the repo -\u003e jiri import at revision R of the repo\n-if the manifest is not local -\u003e jiri import at HEAD and then override the project to use R\n\nWe don\u0027t supply path to checkout(), however. Is it possible to have the override subcommand only key on project and remote?",
      "parentUuid": "e1455de0_9fcf876a",
      "range": {
        "startLine": 45,
        "startChar": 34,
        "endLine": 45,
        "endChar": 41
      },
      "revId": "54c993db561b702339828a45e82836970cfe39f2",
      "serverId": "ccdefb6c-23ea-33ff-848c-339fc6ca2269",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b4a4cd5f_01de924a",
        "filename": "cmd/jiri/override.go",
        "patchSetId": 5
      },
      "lineNbr": 45,
      "author": {
        "id": 5050
      },
      "writtenOn": "2018-10-22T02:29:31Z",
      "side": 1,
      "message": "No, not at the moment. The way overrides are currently implemented is by completely replacing the original project definition. You also cannot override the import, you can only override the project itself. We could change the override implementation to merge the definition rather than replacing it but that might turn this command into even bigger footgun than it already is.\n\nFurthermore, you\u0027re also confusing two aspects: what we pass to recipes is remote, manifest path and name, but those properties refer to imports, not projects and they shouldn\u0027t be used interchangeably. For imports, name doesn\u0027t refer to the name of the project, it\u0027s the name of the project that contains the manifest itself and is needed because of Jiri\u0027s manifest resolution algorithm. While it\u0027s typically the same as the primary project itself, it doesn\u0027t have to and great example is for manifests in fuchsia.googlesource.com/manifest.\n\nSo when using this feature from recipes, we\u0027ll probably need to add name, path, and remote properties to each builder. That\u0027s the only way to ensure that things work as expected. We hope to eliminate the key/name from Jiri\u0027s manifests in the future altogether which might simplify this, but that\u0027s likely months away as it\u0027ll require reworking Jiri\u0027s internals considerably.",
      "parentUuid": "ebc3361b_8cf03dbe",
      "range": {
        "startLine": 45,
        "startChar": 34,
        "endLine": 45,
        "endChar": 41
      },
      "revId": "54c993db561b702339828a45e82836970cfe39f2",
      "serverId": "ccdefb6c-23ea-33ff-848c-339fc6ca2269",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9a18189d_e81427ee",
        "filename": "cmd/jiri/override.go",
        "patchSetId": 5
      },
      "lineNbr": 45,
      "author": {
        "id": 5050
      },
      "writtenOn": "2018-10-22T02:29:31Z",
      "side": 1,
      "message": "We can make revision a required argument, but in that case it should be a positional argument rather than a flag, would you prefer that?",
      "parentUuid": "051e6507_2415852d",
      "revId": "54c993db561b702339828a45e82836970cfe39f2",
      "serverId": "ccdefb6c-23ea-33ff-848c-339fc6ca2269",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6ebbca63_4e35139b",
        "filename": "cmd/jiri/override.go",
        "patchSetId": 5
      },
      "lineNbr": 45,
      "author": {
        "id": 5050
      },
      "writtenOn": "2018-10-24T03:40:26Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "9a18189d_e81427ee",
      "revId": "54c993db561b702339828a45e82836970cfe39f2",
      "serverId": "ccdefb6c-23ea-33ff-848c-339fc6ca2269",
      "unresolved": false
    }
  ]
}