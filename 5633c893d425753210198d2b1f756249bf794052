{
  "comments": [
    {
      "key": {
        "uuid": "080c072b_20b8fafb",
        "filename": "project/project.go",
        "patchSetId": 2
      },
      "lineNbr": 449,
      "author": {
        "id": 14161
      },
      "writtenOn": "2020-03-12T00:53:17Z",
      "side": 1,
      "message": "lines 449-452 are unnecessary:\n\nhttps://golang.org/ref/spec#Index_expressions\n\" if the map is nil or does not contain such an entry, a[x] is the zero value for the element type of M \"",
      "revId": "5633c893d425753210198d2b1f756249bf794052",
      "serverId": "ccdefb6c-23ea-33ff-848c-339fc6ca2269",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5fced935_2571368c",
        "filename": "project/project.go",
        "patchSetId": 2
      },
      "lineNbr": 1142,
      "author": {
        "id": 14161
      },
      "writtenOn": "2020-03-12T00:53:17Z",
      "side": 1,
      "message": "Personally I had thought about making it a method of Packages, a bit like FilterACL(). It brings more coherency, but I don\u0027t mind much so don\u0027t bother if you don\u0027t mind.",
      "revId": "5633c893d425753210198d2b1f756249bf794052",
      "serverId": "ccdefb6c-23ea-33ff-848c-339fc6ca2269",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6ab86eba_bdc9843e",
        "filename": "project/project.go",
        "patchSetId": 2
      },
      "lineNbr": 1145,
      "author": {
        "id": 14161
      },
      "writtenOn": "2020-03-12T00:53:17Z",
      "side": 1,
      "message": "Maybe comment with?\n\n  // Map of every package lock (instance id) per package.\n\n\nThe reason it could be worth commenting is that it took me a while to understand well the code.",
      "revId": "5633c893d425753210198d2b1f756249bf794052",
      "serverId": "ccdefb6c-23ea-33ff-848c-339fc6ca2269",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4a48ee18_6179aae0",
        "filename": "project/project.go",
        "patchSetId": 2
      },
      "lineNbr": 1148,
      "author": {
        "id": 14161
      },
      "writtenOn": "2020-03-12T00:53:17Z",
      "side": 1,
      "message": "Because:\n\n  type PackageLocks map[PackageLockKey]PackageLock\n\nIt means that `v` is a local copy. This means that line 1153 using \u0026v forces a *copy* of PackageLock in memory, instead of pointing to the copy in the map. I don\u0027t know if it what you wanted, but I feel the pointer in line 1145 is unnecessary, you could do instead:\n\n  lockMap :\u003d make(map[string][]PackageLock)\n\nI don\u0027t see value in using a pointer, we\u0027re talking about less than a thousand items.",
      "range": {
        "startLine": 1148,
        "startChar": 15,
        "endLine": 1148,
        "endChar": 16
      },
      "revId": "5633c893d425753210198d2b1f756249bf794052",
      "serverId": "ccdefb6c-23ea-33ff-848c-339fc6ca2269",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b167c1ee_23ab94b3",
        "filename": "project/project.go",
        "patchSetId": 2
      },
      "lineNbr": 1150,
      "author": {
        "id": 14161
      },
      "writtenOn": "2020-03-12T00:53:17Z",
      "side": 1,
      "message": "It\u0027s unnecessary, because append(nil, ...) does the right thing.",
      "revId": "5633c893d425753210198d2b1f756249bf794052",
      "serverId": "ccdefb6c-23ea-33ff-848c-339fc6ca2269",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0264b9c6_8bcb5df3",
        "filename": "project/project.go",
        "patchSetId": 2
      },
      "lineNbr": 1156,
      "author": {
        "id": 14161
      },
      "writtenOn": "2020-03-12T00:53:17Z",
      "side": 1,
      "message": "for k, v :\u003d range pkgs {",
      "revId": "5633c893d425753210198d2b1f756249bf794052",
      "serverId": "ccdefb6c-23ea-33ff-848c-339fc6ca2269",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a66e74c9_1b6bd2ce",
        "filename": "project/project.go",
        "patchSetId": 2
      },
      "lineNbr": 1168,
      "author": {
        "id": 14161
      },
      "writtenOn": "2020-03-12T00:53:17Z",
      "side": 1,
      "message": "Not necessary.",
      "revId": "5633c893d425753210198d2b1f756249bf794052",
      "serverId": "ccdefb6c-23ea-33ff-848c-339fc6ca2269",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "aa595403_e189f0eb",
        "filename": "project/project.go",
        "patchSetId": 2
      },
      "lineNbr": 1172,
      "author": {
        "id": 14161
      },
      "writtenOn": "2020-03-12T00:53:17Z",
      "side": 1,
      "message": "I can boil down to:\n\n  pkgMap[expexpandedName] \u003d append(pkgMap[expexpandedName], v)\n\n(depending if you use pointers or not, then \u0026)",
      "revId": "5633c893d425753210198d2b1f756249bf794052",
      "serverId": "ccdefb6c-23ea-33ff-848c-339fc6ca2269",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "31607c15_07484a60",
        "filename": "project/project.go",
        "patchSetId": 2
      },
      "lineNbr": 1177,
      "author": {
        "id": 14161
      },
      "writtenOn": "2020-03-12T00:53:17Z",
      "side": 1,
      "message": "This happens if a dependency is removed, but is it a big deal? You are already looking for these below.",
      "revId": "5633c893d425753210198d2b1f756249bf794052",
      "serverId": "ccdefb6c-23ea-33ff-848c-339fc6ca2269",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "058b99b2_7233254b",
        "filename": "project/project.go",
        "patchSetId": 2
      },
      "lineNbr": 1190,
      "author": {
        "id": 14161
      },
      "writtenOn": "2020-03-12T00:53:17Z",
      "side": 1,
      "message": "If this really an error?",
      "revId": "5633c893d425753210198d2b1f756249bf794052",
      "serverId": "ccdefb6c-23ea-33ff-848c-339fc6ca2269",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8d09203b_5efe215c",
        "filename": "project/project.go",
        "patchSetId": 2
      },
      "lineNbr": 1202,
      "author": {
        "id": 14161
      },
      "writtenOn": "2020-03-12T00:53:17Z",
      "side": 1,
      "message": "optional nit: I\u0027m not a fan of local functions unless absolutely needed. Local closure means that all variables in the closure are accessible, and it makes reading the control flow. Here there\u0027s no use of the closure, so there\u0027s no value in keeping the function local, and make the outer function harder to read than necessary. As such I\u0027d recommend to move it to a standalone function.",
      "revId": "5633c893d425753210198d2b1f756249bf794052",
      "serverId": "ccdefb6c-23ea-33ff-848c-339fc6ca2269",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8bceb014_b541e6a9",
        "filename": "project/project.go",
        "patchSetId": 2
      },
      "lineNbr": 1203,
      "author": {
        "id": 14161
      },
      "writtenOn": "2020-03-12T00:53:17Z",
      "side": 1,
      "message": "When you don\u0027t use the false value, you can replace map[string]bool with map[string]struct{}, which is significantly more compact.",
      "revId": "5633c893d425753210198d2b1f756249bf794052",
      "serverId": "ccdefb6c-23ea-33ff-848c-339fc6ca2269",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a79497da_a8647b46",
        "filename": "project/project.go",
        "patchSetId": 2
      },
      "lineNbr": 1223,
      "author": {
        "id": 14161
      },
      "writtenOn": "2020-03-12T00:53:17Z",
      "side": 1,
      "message": "That\u0027s too bad that we have to return both, I wish there was a single data structure that would encompass the needed information.",
      "range": {
        "startLine": 1223,
        "startChar": 8,
        "endLine": 1223,
        "endChar": 25
      },
      "revId": "5633c893d425753210198d2b1f756249bf794052",
      "serverId": "ccdefb6c-23ea-33ff-848c-339fc6ca2269",
      "unresolved": true
    }
  ]
}